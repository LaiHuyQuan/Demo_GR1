<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="../../icon/png/iot_cut.png"
      type="image/x-icon"
    />
    <link rel="shortcut icon" href="publiciot_cut.png" type="image/png" />
    <title>Energy monitoring System</title>

    <script src="../../js/dayjs.min.js"></script>
    <script>
      dayjs().format();
    </script>

    <link rel="stylesheet" href="./assets/compiled/css/app.css" />
    <link rel="stylesheet" href="./assets/compiled/css/app-dark.css" />
    <link rel="stylesheet" href="./assets/compiled/css/iconly.css" />

    <!-- <link rel="stylesheet" href="./mazer/assets/css/main/app.css" />
  <link rel="stylesheet" href="./mazer/assets/css/main/app-dark.css" />
  <link rel="stylesheet" href="../../css/tree.css">
  <script src="./mazer/assets/js/bootstrap.js"></script>
  <script src="./mazer/assets/js/app.js"></script>
  <script src="./mazer/assets/js/pages/horizontal-layout.js"></script>
  <link rel="stylesheet" href="./mazer/assets/extensions/toastify-js/src/toastify.css" />
  <script src="./mazer/assets/extensions/toastify-js/src/toastify.js"></script>
  <script src="./mazer/assets/js/pages/toastify.js"></script> -->

    <script src="../../js/apexcharts.min.js"></script>
    <script src="../../js/mqttws31.js" type="text/javascript"></script>

    <!-- <link rel="stylesheet" href="./mazer/assets/css/shared/iconly.css" /> -->
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script src="../../js/lodash.js"></script>
    <script src="../../js/backbone.js"></script>
    <script src="../../js/joint.js"></script>
    <script src="../../js/flatpickr.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../../css/dark.css" />
    <script src="../../js/npmcdn.com_flatpickr@4.6.13_dist_l10n_vn.js"></script>
    <script src="js/monitoring.js"></script>
    <script src="../../js/v2/monitoring.js"></script>
    <script src="../../js/v2/mqtt.js"></script>
    <script src="../../js/v2/noti.js"></script>
    <style>
      #myDiv.fullscreen {
        position: absolute;
        top: 10px;
        bottom: 10px;
        left: 10px;
        right: 10px;
        z-index: 1000;
      }

      #diaSpace.fullscreen {
        height: 80vh !important;
        margin-top: 5vh;
      }
    </style>
  </head>

  <body class="dark">
    <script src="./assets/static/js/initTheme.js"></script>

    <div id="app">
      <div id="main" class="layout-horizontal">
        <header class="mb-2">
          <div class="header-top py-1">
            <div
              class="container-fluid d-flex justify-content-between align-items-center"
            >
              <div class="logo">
                <a href="#"><img src="../../icon/png/logo.png" alt="Logo" /></a>
              </div>
              <nav
                class="main-navbar w-100 d-flex justify-content-evenly align-items-center"
                style="background-color: transparent"
              >
                <div class="container-fluid d-flex justify-content-between">
                  <ul class="flex-row">
                    <li class="menu-item active">
                      <a href="monitoring.html" class="menu-link">
                        <span
                          ><i class="bi bi-diagram-3-fill"></i> Monitoring</span
                        >
                      </a>
                    </li>

                    <li class="menu-item active">
                      <a href="electrical.html" class="menu-link">
                        <span
                          ><i class="bi bi-lightning-fill"></i>
                          Electrcical</span
                        >
                      </a>
                    </li>

                    <li class="menu-item">
                      <a href="report.html" class="menu-link">
                        <span
                          ><i class="bi bi-file-earmark-bar-graph-fill"></i>
                          Report</span
                        >
                      </a>
                    </li>
                    <!-- 
                  <li class="menu-item ">
                    <a href="alarm.html" class="menu-link">
                      <span><i class="bi bi-bell-fill"></i> Alert</span>
                    </a>

                  </li> -->
                  </ul>
                  <!-- <h6 class=" d-flex flex-column text-end fw-normal m-0"><span id="day"></span>
                  <span id="time"></span>
                </h6> -->
                </div>
              </nav>
              <div class="header-top-right">
                <div class="dropdown">
                  <a
                    href="#"
                    id="topbarUserDropdown"
                    class="user-dropdown d-flex align-items-center dropend dropdown-toggle"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    <div class="avatar avatar-md2">
                      <img src="../../icon//png/img_avatar.png" alt="Avatar" />
                    </div>
                    <div class="text">
                      <h6 class="user-dropdown-name">Nhà máy</h6>
                      <p class="user-dropdown-status text-sm text-muted">
                        Admin
                      </p>
                    </div>
                  </a>
                  <ul
                    class="dropdown-menu dropdown-menu-end shadow-lg"
                    aria-labelledby="topbarUserDropdown"
                  >
                    <li><a class="dropdown-item" href="#">My Account</a></li>
                    <li><a class="dropdown-item" href="#">Settings</a></li>
                    <li>
                      <hr class="dropdown-divider" />
                    </li>
                    <li>
                      <a
                        class="dropdown-item"
                        href="https://ems.ioteamvn.com/logout"
                        >Logout</a
                      >
                    </li>
                  </ul>
                </div>

                <!-- Burger button responsive -->
                <a href="#" class="burger-btn d-block d-xl-none">
                  <i class="bi bi-justify fs-3"></i>
                </a>
              </div>
            </div>
          </div>
        </header>

        <div class="content-fluid mx-2">
          <div class="page-heading m-0 d-flex justify-content-between">
            <ol class="breadcrumb breadcrumb-right" id="breadcrumb"></ol>
          </div>

          <div class="page-content mx-1 p-1">
            <section class="row">
              <div class="col-12 col-lg-6 p-1">
                <div class="card" id="myDiv">
                  <div class="card-content">
                    <div class="card-body p-1">
                      <div class="row">
                        <div class="col-12">
                          <div
                            class="buttons d-flex justify-content-end"
                            onclick="toggleFullscreen()"
                          >
                            <a href="#" class="btn icon icon-left">
                              <i class="bi bi-arrows-angle-expand"></i
                            ></a>
                          </div>
                        </div>
                        <div class="col-12">
                          <div
                            class="d-flex align-items-center justify-content-center"
                            id="diaSpace"
                            style="height: 70vh; margin-top: 2.5vh"
                          >
                            <div id="myholder"></div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div class="col-12 col-lg-6 p-1">
                <div class="card">
                  <div class="card-content">
                    <div class="card-body pb-1">
                      <h4 id="heatmapname" class="card-title"></h4>
                    </div>
                    <div class="card-body pb-1">
                      <div class="row">
                        <div class="col-12">
                          <div
                            id="heatmap-chart"
                            style="height: 38vh; margin: -2.5vh 0 1vh"
                          ></div>
                        </div>
                        <div class="col-4">
                          <h5 class="card-title">Load factor</h5>
                          <div id="c1" style="height: 28vh"></div>
                        </div>
                        <div class="col-4">
                          <h5 class="card-title">Current</h5>

                          <div id="c2" style="height: 28vh"></div>
                        </div>
                        <div class="col-4">
                          <h5 class="card-title">Power</h5>

                          <div id="c3" style="height: 28vh"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>

    <div
      class="modal fade text-left w-100"
      id="Modal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="exampleModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title" id="myModalLabel16">Database</h4>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
              aria-label="Close"
            >
              <i data-feather="x"></i>
            </button>
          </div>
          <div class="modal-body">
            <div class="input-group">
              <!-- <span class="input-group-text text-white">Chọn thời gian</span>
            <input id="calendar-range" type="text" aria-label="First name" class="form-control">
            <span role="button" id="confirmDate" class="btn btn-primary">Chọn</span> -->
              <span class="input-group-text text-white"
                >Chọn khoảng thời gian</span
              >
              <button
                class="btn btn-outline-secondary dropdown-toggle"
                type="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Preset
              </button>
              <ul class="dropdown-menu" style="">
                <li>
                  <a class="dropdown-item" href="#" onclick="timeSelect_hour(3)"
                    >3 hours previous</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="#" onclick="timeSelect_hour(6)"
                    >6 hours previous</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="#"
                    onclick="timeSelect_hour(12)"
                    >12 hours previous</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="#"
                    onclick="timeSelect_thisday()"
                    >Today</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="#"
                    onclick="timeSelect_preDay()"
                    >Yesterday</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="#"
                    onclick="timeSelect_thisWeek()"
                    >This week</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="#"
                    onclick="timeSelect_preWeek()"
                    >Last week</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="#"
                    onclick="timeSelect_thisMonth()"
                    >This month</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="#"
                    onclick="timeSelect_preMonth()"
                    >Last month</a
                  >
                </li>
              </ul>
              <input
                id="calendar-range"
                type="text"
                class="form-control"
                placeholder="Tuỳ chọn thời gian &#xF207;"
                aria-label="Recipient's username"
                style="font-family: Nunito, bootstrap-icons"
                aria-describedby="button-addon2"
              />
              <span role="button" id="confirmDate" class="btn btn-primary"
                >Ok!</span
              >
            </div>

            <div class="input-group my-2">
              <span id="Select_type" class="input-group-text text-white"
                >Type:</span
              >
              <select id="energy_opt" class="form-select">
                <option value="U">Voltage</option>
                <option value="I">Current</option>
                <option value="P">Power</option>
                <option value="Pf" selected>Power factor</option>
                <option value="E" selected>Consumption</option>
              </select>
            </div>
            <div id="chart"></div>
            <!-- <input class=" form-control" type="text" id="calendar-range"> -->
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-light-secondary"
              data-bs-dismiss="modal"
            >
              <i class="bx bx-x d-block d-sm-none"></i>
              <span class="d-none d-sm-block">Close</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="./assets/static/js/components/dark.js"></script>
    <script src="./assets/static/js/pages/horizontal-layout.js"></script>
    <script src="./assets/extensions/perfect-scrollbar/perfect-scrollbar.min.js"></script>

    <script src="./assets/compiled/js/app.js"></script>
    <!-- <script src="../assets/js/pages/dashboard.js"></scrip> -->
    <script src="./assets/compiled/js/app.js"></script>
    <script src="./assets/compiled/js/element.js"></script>
    <script src="./assets/compiled/js/management.js"></script>
    <script src="./assets/compiled/js/chart.js"></script>
    <script src="./assets/compiled/js/api.js"></script>
    <script src="./assets/compiled/js/diagram.js"></script>
  </body>
</html>
